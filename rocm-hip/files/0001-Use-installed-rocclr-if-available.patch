From 78c755d2bd32930a322e4c3b68be6e8ceae390f5 Mon Sep 17 00:00:00 2001
From: Jeremy Newton <alexjnewt@hotmail.com>
Date: Wed, 4 May 2022 09:23:43 -0400
Subject: [PATCH] Use installed rocclr if available

---
 src/cmake/FindROCclr.cmake | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/src/cmake/FindROCclr.cmake b/src/cmake/FindROCclr.cmake
index b9ff2b1c..40c4d587 100644
--- a/src/cmake/FindROCclr.cmake
+++ b/src/cmake/FindROCclr.cmake
@@ -18,7 +18,13 @@
 # OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 # THE SOFTWARE.
 
+find_package(ROCCLR NAMES ROCclr)
+
 if(ROCCLR_FOUND)
+  message(STATUS "Using rocclr from ${ROCCLR_LIB_INSTALL_DIR}")
+  link_directories(PUBLIC ${ROCCLR_LIB_INSTALL_DIR})
+  include_directories(${ROCCLR_INCLUDE_DIRS})
+  add_definitions(${ROCCLR_COMPILE_DEFINITIONS})
   return()
 endif()
 
-- 
2.34.1

